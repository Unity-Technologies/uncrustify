### This file holds rules common to all C++-derived languages

include Uncrustify.Common-CStyle.cfg

# workaround for some nasty macroing we're doing
set COMMENT PLATFORM_EXCEPTION_SAFEGUARD_PROLOG

# without this, uncrustify will parse and process the contents of #defines, which is super unstable. very easy to get into edge cases it does not support,
# so just have it treat #defines as black boxes. this 'set' will convert #define to a PP_IGNORE, which keeps all of the contents of the #define as
# an unparsed PREPROC_BODY, only doing indentation and that's it. note that this causes all define-related options to be ignored.
set PP_IGNORE define

# macros in #includes aren't known to Uncrustify, so have to inform it here for macros that will confuse it
set MACRO_FUNC ATTRIBUTE_ALIGN

# we have some truly insane deep namespace nesting in il2cpp. :/
indent_namespace_single_indent=true

###
### -=- Below here is unstable (work-in-progress) -=-
###

# wait on this until repo rebuild is done, at least for 5.0. it's possible that reorg of #includes will break something in a subtle (non-compile-time) way.
#mod_sort_include=true

# https://sourceforge.net/p/uncrustify/bugs/634/
set TYPE NSString

# https://sourceforge.net/p/uncrustify/bugs/633/
set COMMENT F_STDCALL
set COMMENT __stdcall
set COMMENT __fastcall
set COMMENT __cdecl
set COMMENT __vectorcall
